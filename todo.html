<!DOCTYPE html>
<html>

<body>
    <div style="margin-left:16%;font-size:x-large">TO-DO LIST</div>
    <button style="margin-left: 20%" onclick="clickAdd()">+</button><br>
    <div id="buttonfield"></div><br>

    <script>
        // table-header
        var count = 0;
        var table = document.createElement('table');
        var tr = document.createElement('tr');
        var th = document.createElement('th');
        var datedata = document.createTextNode("DATE");
        th.appendChild(datedata);
        tr.appendChild(th);
        var th1 = document.createElement('th');
        var descriptiont = document.createTextNode("DESCRIPTION");
        th1.appendChild(descriptiont);
        tr.appendChild(th1);
        table.appendChild(tr);

        // insertion into table

        function insertIntoTable(addDate, addDesc) {

            var tr1 = document.createElement('tr');
            tr1.setAttribute('id', 'tr' + count);

            var th = document.createElement('th');
            var text1 = document.createTextNode(addDate);
            th.appendChild(text1);
            tr1.appendChild(th);

            var th1 = document.createElement('th');
            var text2 = document.createTextNode(addDesc);
            th1.appendChild(text2);
            tr1.appendChild(th1);

            var th2 = document.createElement('th');
            var deletebtn = document.createElement("BUTTON");
            deletebtn.innerText = "-"
            deletebtn.setAttribute('id', count);
            th2.appendChild(deletebtn);

            tr1.appendChild(th2);

            table.appendChild(tr1);
            document.body.appendChild(table);

            deleter(count);
            count++;
        }

        //click on add event
        function clickAdd() {
            var date = document.createElement("input");
            date.setAttribute("type", "date");
            date.setAttribute("id", "date");

            var description = document.createElement("input");
            description.setAttribute("placeholder", "Description");
            description.setAttribute("id", "description");

            var okbtn = document.createElement("BUTTON");
            okbtn.innerText = "SUBMIT"
            okbtn.setAttribute('id', 'ok');

            var cancelbtn = document.createElement("BUTTON");
            cancelbtn.innerText = "DISCARD"
            cancelbtn.setAttribute('id', 'cancel');

            var div1 = document.getElementById("buttonfield")
            div1.innerHTML = ""
            div1.appendChild(date);
            div1.appendChild(description);
            div1.appendChild(cancelbtn);
            div1.appendChild(okbtn);
            clicksubmit();
            clickdiscard();
        }

        //click on submit button 
        function clicksubmit() {
            document.getElementById("ok").addEventListener('click', function (event) {
                event.preventDefault();
                var addDate = document.getElementById("date").value;
                var addDesc = document.getElementById("description").value;
                if (addDate === '' || addDesc === '') {
                    alert('Please enter required fields.');
                } else {
                    insertIntoTable(addDate, addDesc);
                }
            });
        }

        //click on discard button
        function clickdiscard() {
            document.getElementById("cancel").addEventListener('click', function (event) {
                event.preventDefault();
                var cancelDate = document.getElementById("date");
                var cancelDescriptionbox = document.getElementById("description");
                var okbutton = document.getElementById("ok");
                var cancelbutton = document.getElementById("cancel");
                cancelDate.remove();
                cancelDescriptionbox.remove();
                okbutton.remove();
                cancelbutton.remove();
            });
        }
        //click on delete button
        function deleter(count) {

            document.getElementById(count).addEventListener('click', function (event) {
                console.log('event', event.target.id);
                let row = document.getElementById("tr" + event.target.id);
                row.remove();
            });

        }

    </script>
</body>

</html>
<style>
    table,
    th,
    td {

        border: solid 1px black;
        border-collapse: collapse;
        font-weight: bold;
        background-color: lavenderblush;
    }
</style>
